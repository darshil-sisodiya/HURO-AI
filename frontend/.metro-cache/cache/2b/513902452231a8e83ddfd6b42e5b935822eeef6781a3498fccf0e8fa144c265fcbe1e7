{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [token, setToken] = (0, _react.useState)(null);\n    const [username, setUsername] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadToken();\n    }, []);\n    const loadToken = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUsername = await AsyncStorage.default.getItem('username');\n        if (storedToken && storedUsername) {\n          setToken(storedToken);\n          setUsername(storedUsername);\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          token: newToken,\n          username: returnedUsername\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('username', returnedUsername);\n        setToken(newToken);\n        setUsername(returnedUsername);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          username,\n          password\n        });\n        const {\n          token: newToken,\n          username: returnedUsername\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('username', returnedUsername);\n        setToken(newToken);\n        setUsername(returnedUsername);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('username');\n      setToken(null);\n      setUsername(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        token,\n        username,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":123,"map":[[13,2,19,0,"Object"],[13,8,19,0],[13,9,19,0,"defineProperty"],[13,23,19,0],[13,24,19,0,"exports"],[13,31,19,0],[14,4,19,0,"enumerable"],[14,14,19,0],[15,4,19,0,"get"],[15,7,19,0],[15,18,19,0,"get"],[15,19,19,0],[16,6,19,0],[16,13,19,0,"AuthProvider"],[16,25,19,0],[17,4,19,0],[18,2,19,0],[19,2,91,0,"Object"],[19,8,91,0],[19,9,91,0,"defineProperty"],[19,23,91,0],[19,24,91,0,"exports"],[19,31,91,0],[20,4,91,0,"enumerable"],[20,14,91,0],[21,4,91,0,"get"],[21,7,91,0],[21,18,91,0,"get"],[21,19,91,0],[22,6,91,0],[22,13,91,0,"useAuth"],[22,20,91,0],[23,4,91,0],[24,2,91,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,4,0],[30,6,4,0,"_expoConstants"],[30,20,4,0],[30,23,4,0,"require"],[30,30,4,0],[30,31,4,0,"_dependencyMap"],[30,45,4,0],[31,2,4,0],[31,6,4,0,"Constants"],[31,15,4,0],[31,18,4,0,"_interopDefault"],[31,33,4,0],[31,34,4,0,"_expoConstants"],[31,48,4,0],[32,2,4,39],[32,6,4,39,"_reactJsxDevRuntime"],[32,25,4,39],[32,28,4,39,"require"],[32,35,4,39],[32,36,4,39,"_dependencyMap"],[32,50,4,39],[33,2,6,0],[33,8,6,6,"BACKEND_URL"],[33,19,6,17],[33,22,6,20,"Constants"],[33,31,6,29],[33,32,6,29,"default"],[33,39,6,29],[33,40,6,30,"expoConfig"],[33,50,6,40],[33,52,6,42,"extra"],[33,57,6,47],[33,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[33,82,6,72],[33,86,6,76,"process"],[33,93,6,83],[33,94,6,84,"env"],[33,97,6,87],[33,98,6,88,"EXPO_PUBLIC_BACKEND_URL"],[33,121,6,111],[34,2,17,0],[34,8,17,6,"AuthContext"],[34,19,17,17],[34,35,17,20],[34,39,17,20,"createContext"],[34,45,17,33],[34,46,17,33,"createContext"],[34,59,17,33],[34,61,17,63,"undefined"],[34,70,17,72],[34,71,17,73],[35,2,19,7],[35,8,19,13,"AuthProvider"],[35,20,19,66],[35,23,19,69,"AuthProvider"],[35,24,19,70],[36,4,19,72,"children"],[37,2,19,81],[37,3,19,82],[37,8,19,87],[38,4,20,2],[38,10,20,8],[38,11,20,9,"token"],[38,16,20,14],[38,18,20,16,"setToken"],[38,26,20,24],[38,27,20,25],[38,30,20,28],[38,34,20,28,"useState"],[38,40,20,36],[38,41,20,36,"useState"],[38,49,20,36],[38,51,20,52],[38,55,20,56],[38,56,20,57],[39,4,21,2],[39,10,21,8],[39,11,21,9,"username"],[39,19,21,17],[39,21,21,19,"setUsername"],[39,32,21,30],[39,33,21,31],[39,36,21,34],[39,40,21,34,"useState"],[39,46,21,42],[39,47,21,42,"useState"],[39,55,21,42],[39,57,21,58],[39,61,21,62],[39,62,21,63],[40,4,22,2],[40,10,22,8],[40,11,22,9,"isLoading"],[40,20,22,18],[40,22,22,20,"setIsLoading"],[40,34,22,32],[40,35,22,33],[40,38,22,36],[40,42,22,36,"useState"],[40,48,22,44],[40,49,22,44,"useState"],[40,57,22,44],[40,59,22,45],[40,63,22,49],[40,64,22,50],[41,4,24,2],[41,8,24,2,"useEffect"],[41,14,24,11],[41,15,24,11,"useEffect"],[41,24,24,11],[41,26,24,12],[41,32,24,18],[42,6,25,4,"loadToken"],[42,15,25,13],[42,16,25,14],[42,17,25,15],[43,4,26,2],[43,5,26,3],[43,7,26,5],[43,9,26,7],[43,10,26,8],[44,4,28,2],[44,10,28,8,"loadToken"],[44,19,28,17],[44,22,28,20],[44,28,28,20,"loadToken"],[44,29,28,20],[44,34,28,32],[45,6,29,4],[45,10,29,8],[46,8,30,6],[46,14,30,12,"storedToken"],[46,25,30,23],[46,28,30,26],[46,34,30,32,"AsyncStorage"],[46,46,30,44],[46,47,30,44,"default"],[46,54,30,44],[46,55,30,45,"getItem"],[46,62,30,52],[46,63,30,53],[46,70,30,60],[46,71,30,61],[47,8,31,6],[47,14,31,12,"storedUsername"],[47,28,31,26],[47,31,31,29],[47,37,31,35,"AsyncStorage"],[47,49,31,47],[47,50,31,47,"default"],[47,57,31,47],[47,58,31,48,"getItem"],[47,65,31,55],[47,66,31,56],[47,76,31,66],[47,77,31,67],[48,8,32,6],[48,12,32,10,"storedToken"],[48,23,32,21],[48,27,32,25,"storedUsername"],[48,41,32,39],[48,43,32,41],[49,10,33,8,"setToken"],[49,18,33,16],[49,19,33,17,"storedToken"],[49,30,33,28],[49,31,33,29],[50,10,34,8,"setUsername"],[50,21,34,19],[50,22,34,20,"storedUsername"],[50,36,34,34],[50,37,34,35],[51,8,35,6],[52,6,36,4],[52,7,36,5],[52,8,36,6],[52,15,36,13,"error"],[52,20,36,18],[52,22,36,20],[53,8,37,6,"console"],[53,15,37,13],[53,16,37,14,"error"],[53,21,37,19],[53,22,37,20],[53,44,37,42],[53,46,37,44,"error"],[53,51,37,49],[53,52,37,50],[54,6,38,4],[54,7,38,5],[54,16,38,14],[55,8,39,6,"setIsLoading"],[55,20,39,18],[55,21,39,19],[55,26,39,24],[55,27,39,25],[56,6,40,4],[57,4,41,2],[57,5,41,3],[58,4,43,2],[58,10,43,8,"login"],[58,15,43,13],[58,18,43,16],[58,24,43,16,"login"],[58,25,43,23,"username"],[58,33,43,39],[58,35,43,41,"password"],[58,43,43,57],[58,48,43,62],[59,6,44,4],[59,10,44,8],[60,8,45,6],[60,14,45,12,"response"],[60,22,45,20],[60,25,45,23],[60,31,45,29,"axios"],[60,36,45,34],[60,37,45,34,"default"],[60,44,45,34],[60,45,45,35,"post"],[60,49,45,39],[60,50,45,40],[60,53,45,43,"BACKEND_URL"],[60,64,45,54],[60,81,45,71],[60,83,45,73],[61,10,46,8,"username"],[61,18,46,16],[62,10,47,8,"password"],[63,8,48,6],[63,9,48,7],[63,10,48,8],[64,8,50,6],[64,14,50,12],[65,10,50,14,"token"],[65,15,50,19],[65,17,50,21,"newToken"],[65,25,50,29],[66,10,50,31,"username"],[66,18,50,39],[66,20,50,41,"returnedUsername"],[67,8,50,58],[67,9,50,59],[67,12,50,62,"response"],[67,20,50,70],[67,21,50,71,"data"],[67,25,50,75],[68,8,51,6],[68,14,51,12,"AsyncStorage"],[68,26,51,24],[68,27,51,24,"default"],[68,34,51,24],[68,35,51,25,"setItem"],[68,42,51,32],[68,43,51,33],[68,50,51,40],[68,52,51,42,"newToken"],[68,60,51,50],[68,61,51,51],[69,8,52,6],[69,14,52,12,"AsyncStorage"],[69,26,52,24],[69,27,52,24,"default"],[69,34,52,24],[69,35,52,25,"setItem"],[69,42,52,32],[69,43,52,33],[69,53,52,43],[69,55,52,45,"returnedUsername"],[69,71,52,61],[69,72,52,62],[70,8,53,6,"setToken"],[70,16,53,14],[70,17,53,15,"newToken"],[70,25,53,23],[70,26,53,24],[71,8,54,6,"setUsername"],[71,19,54,17],[71,20,54,18,"returnedUsername"],[71,36,54,34],[71,37,54,35],[72,6,55,4],[72,7,55,5],[72,8,55,6],[72,15,55,13,"error"],[72,20,55,23],[72,22,55,25],[73,8,56,6],[73,14,56,12],[73,18,56,16,"Error"],[73,23,56,21],[73,24,56,22,"error"],[73,29,56,27],[73,30,56,28,"response"],[73,38,56,36],[73,40,56,38,"data"],[73,44,56,42],[73,46,56,44,"detail"],[73,52,56,50],[73,56,56,54],[73,70,56,68],[73,71,56,69],[74,6,57,4],[75,4,58,2],[75,5,58,3],[76,4,60,2],[76,10,60,8,"register"],[76,18,60,16],[76,21,60,19],[76,27,60,19,"register"],[76,28,60,26,"username"],[76,36,60,42],[76,38,60,44,"password"],[76,46,60,60],[76,51,60,65],[77,6,61,4],[77,10,61,8],[78,8,62,6],[78,14,62,12,"response"],[78,22,62,20],[78,25,62,23],[78,31,62,29,"axios"],[78,36,62,34],[78,37,62,34,"default"],[78,44,62,34],[78,45,62,35,"post"],[78,49,62,39],[78,50,62,40],[78,53,62,43,"BACKEND_URL"],[78,64,62,54],[78,84,62,74],[78,86,62,76],[79,10,63,8,"username"],[79,18,63,16],[80,10,64,8,"password"],[81,8,65,6],[81,9,65,7],[81,10,65,8],[82,8,67,6],[82,14,67,12],[83,10,67,14,"token"],[83,15,67,19],[83,17,67,21,"newToken"],[83,25,67,29],[84,10,67,31,"username"],[84,18,67,39],[84,20,67,41,"returnedUsername"],[85,8,67,58],[85,9,67,59],[85,12,67,62,"response"],[85,20,67,70],[85,21,67,71,"data"],[85,25,67,75],[86,8,68,6],[86,14,68,12,"AsyncStorage"],[86,26,68,24],[86,27,68,24,"default"],[86,34,68,24],[86,35,68,25,"setItem"],[86,42,68,32],[86,43,68,33],[86,50,68,40],[86,52,68,42,"newToken"],[86,60,68,50],[86,61,68,51],[87,8,69,6],[87,14,69,12,"AsyncStorage"],[87,26,69,24],[87,27,69,24,"default"],[87,34,69,24],[87,35,69,25,"setItem"],[87,42,69,32],[87,43,69,33],[87,53,69,43],[87,55,69,45,"returnedUsername"],[87,71,69,61],[87,72,69,62],[88,8,70,6,"setToken"],[88,16,70,14],[88,17,70,15,"newToken"],[88,25,70,23],[88,26,70,24],[89,8,71,6,"setUsername"],[89,19,71,17],[89,20,71,18,"returnedUsername"],[89,36,71,34],[89,37,71,35],[90,6,72,4],[90,7,72,5],[90,8,72,6],[90,15,72,13,"error"],[90,20,72,23],[90,22,72,25],[91,8,73,6],[91,14,73,12],[91,18,73,16,"Error"],[91,23,73,21],[91,24,73,22,"error"],[91,29,73,27],[91,30,73,28,"response"],[91,38,73,36],[91,40,73,38,"data"],[91,44,73,42],[91,46,73,44,"detail"],[91,52,73,50],[91,56,73,54],[91,77,73,75],[91,78,73,76],[92,6,74,4],[93,4,75,2],[93,5,75,3],[94,4,77,2],[94,10,77,8,"logout"],[94,16,77,14],[94,19,77,17],[94,25,77,17,"logout"],[94,26,77,17],[94,31,77,29],[95,6,78,4],[95,12,78,10,"AsyncStorage"],[95,24,78,22],[95,25,78,22,"default"],[95,32,78,22],[95,33,78,23,"removeItem"],[95,43,78,33],[95,44,78,34],[95,51,78,41],[95,52,78,42],[96,6,79,4],[96,12,79,10,"AsyncStorage"],[96,24,79,22],[96,25,79,22,"default"],[96,32,79,22],[96,33,79,23,"removeItem"],[96,43,79,33],[96,44,79,34],[96,54,79,44],[96,55,79,45],[97,6,80,4,"setToken"],[97,14,80,12],[97,15,80,13],[97,19,80,17],[97,20,80,18],[98,6,81,4,"setUsername"],[98,17,81,15],[98,18,81,16],[98,22,81,20],[98,23,81,21],[99,4,82,2],[99,5,82,3],[100,4,84,2],[100,24,85,4],[100,28,85,4,"_reactJsxDevRuntime"],[100,47,85,4],[100,48,85,4,"jsxDEV"],[100,54,85,4],[100,56,85,5,"AuthContext"],[100,67,85,16],[100,68,85,17,"Provider"],[100,76,85,25],[101,6,85,26,"value"],[101,11,85,31],[101,13,85,33],[102,8,85,35,"token"],[102,13,85,40],[103,8,85,42,"username"],[103,16,85,50],[104,8,85,52,"isLoading"],[104,17,85,61],[105,8,85,63,"login"],[105,13,85,68],[106,8,85,70,"register"],[106,16,85,78],[107,8,85,80,"logout"],[108,6,85,87],[108,7,85,89],[109,6,85,89,"children"],[109,14,85,89],[109,16,86,7,"children"],[110,4,86,15],[111,6,86,15,"fileName"],[111,14,86,15],[111,16,86,15,"_jsxFileName"],[111,28,86,15],[112,6,86,15,"lineNumber"],[112,16,86,15],[113,6,86,15,"columnNumber"],[113,18,86,15],[114,4,86,15],[114,11,87,26],[114,12,87,27],[115,2,89,0],[115,3,89,1],[116,2,91,7],[116,8,91,13,"useAuth"],[116,15,91,20],[116,18,91,23,"useAuth"],[116,19,91,23],[116,24,91,29],[117,4,92,2],[117,10,92,8,"context"],[117,17,92,15],[117,20,92,18],[117,24,92,18,"useContext"],[117,30,92,28],[117,31,92,28,"useContext"],[117,41,92,28],[117,43,92,29,"AuthContext"],[117,54,92,40],[117,55,92,41],[118,4,93,2],[118,8,93,6,"context"],[118,15,93,13],[118,20,93,18,"undefined"],[118,29,93,27],[118,31,93,29],[119,6,94,4],[119,12,94,10],[119,16,94,14,"Error"],[119,21,94,19],[119,22,94,20],[119,67,94,65],[119,68,94,66],[120,4,95,2],[121,4,96,2],[121,11,96,9,"context"],[121,18,96,16],[122,2,97,0],[122,3,97,1],[123,0,97,2],[123,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadToken","login","register","logout","useAuth"],"mappings":"AAA;qECkB;YCK;GDE;oBEE;GFa;gBGE;GHe;mBIE;GJe;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}