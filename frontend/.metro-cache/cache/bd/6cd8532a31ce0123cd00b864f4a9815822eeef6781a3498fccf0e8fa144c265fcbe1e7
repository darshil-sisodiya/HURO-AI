{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [token, setToken] = (0, _react.useState)(null);\n    const [username, setUsername] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadToken();\n    }, []);\n    const loadToken = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUsername = await AsyncStorage.default.getItem('username');\n        if (storedToken && storedUsername) {\n          setToken(storedToken);\n          setUsername(storedUsername);\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          token: newToken,\n          username: returnedUsername\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('username', returnedUsername);\n        setToken(newToken);\n        setUsername(returnedUsername);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/register`, {\n          username,\n          password\n        });\n        const {\n          token: newToken,\n          username: returnedUsername\n        } = response.data;\n        await AsyncStorage.default.setItem('token', newToken);\n        await AsyncStorage.default.setItem('username', returnedUsername);\n        setToken(newToken);\n        setUsername(returnedUsername);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('username');\n      setToken(null);\n      setUsername(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        token,\n        username,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"OolWdSz3e6cMYbbr8CMhBfq2y8o=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":133,"map":[[15,2,19,0,"Object"],[15,8,19,0],[15,9,19,0,"defineProperty"],[15,23,19,0],[15,24,19,0,"exports"],[15,31,19,0],[16,4,19,0,"enumerable"],[16,14,19,0],[17,4,19,0,"get"],[17,7,19,0],[17,18,19,0,"get"],[17,19,19,0],[18,6,19,0],[18,13,19,0,"AuthProvider"],[18,25,19,0],[19,4,19,0],[20,2,19,0],[21,2,91,0,"Object"],[21,8,91,0],[21,9,91,0,"defineProperty"],[21,23,91,0],[21,24,91,0,"exports"],[21,31,91,0],[22,4,91,0,"enumerable"],[22,14,91,0],[23,4,91,0,"get"],[23,7,91,0],[23,18,91,0,"get"],[23,19,91,0],[24,6,91,0],[24,13,91,0,"useAuth"],[24,20,91,0],[25,4,91,0],[26,2,91,0],[27,2,97,2],[27,6,97,2,"_expoVirtualEnv"],[27,21,97,2],[27,24,97,2,"require"],[27,31,97,2],[27,32,97,2,"_dependencyMap"],[27,46,97,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_expoConstants"],[33,20,4,0],[33,23,4,0,"require"],[33,30,4,0],[33,31,4,0,"_dependencyMap"],[33,45,4,0],[34,2,4,0],[34,6,4,0,"Constants"],[34,15,4,0],[34,18,4,0,"_interopDefault"],[34,33,4,0],[34,34,4,0,"_expoConstants"],[34,48,4,0],[35,2,4,39],[35,6,4,39,"_reactJsxDevRuntime"],[35,25,4,39],[35,28,4,39,"require"],[35,35,4,39],[35,36,4,39,"_dependencyMap"],[35,50,4,39],[36,2,6,0],[36,8,6,6,"BACKEND_URL"],[36,19,6,17],[36,22,6,20,"Constants"],[36,31,6,29],[36,32,6,29,"default"],[36,39,6,29],[36,40,6,30,"expoConfig"],[36,50,6,40],[36,52,6,42,"extra"],[36,57,6,47],[36,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[36,82,6,72],[36,86,6,72,"_expoVirtualEnv"],[36,101,6,72],[36,102,6,72,"env"],[36,105,6,72],[36,106,6,72,"EXPO_PUBLIC_BACKEND_URL"],[36,129,6,111],[37,2,17,0],[37,8,17,6,"AuthContext"],[37,19,17,17],[37,35,17,20],[37,39,17,20,"createContext"],[37,45,17,33],[37,46,17,33,"createContext"],[37,59,17,33],[37,61,17,63,"undefined"],[37,70,17,72],[37,71,17,73],[38,2,19,7],[38,8,19,13,"AuthProvider"],[38,20,19,66],[38,23,19,69,"AuthProvider"],[38,24,19,70],[39,4,19,72,"children"],[40,2,19,81],[40,3,19,82],[40,8,19,87],[41,4,19,87,"_s"],[41,6,19,87],[42,4,20,2],[42,10,20,8],[42,11,20,9,"token"],[42,16,20,14],[42,18,20,16,"setToken"],[42,26,20,24],[42,27,20,25],[42,30,20,28],[42,34,20,28,"useState"],[42,40,20,36],[42,41,20,36,"useState"],[42,49,20,36],[42,51,20,52],[42,55,20,56],[42,56,20,57],[43,4,21,2],[43,10,21,8],[43,11,21,9,"username"],[43,19,21,17],[43,21,21,19,"setUsername"],[43,32,21,30],[43,33,21,31],[43,36,21,34],[43,40,21,34,"useState"],[43,46,21,42],[43,47,21,42,"useState"],[43,55,21,42],[43,57,21,58],[43,61,21,62],[43,62,21,63],[44,4,22,2],[44,10,22,8],[44,11,22,9,"isLoading"],[44,20,22,18],[44,22,22,20,"setIsLoading"],[44,34,22,32],[44,35,22,33],[44,38,22,36],[44,42,22,36,"useState"],[44,48,22,44],[44,49,22,44,"useState"],[44,57,22,44],[44,59,22,45],[44,63,22,49],[44,64,22,50],[45,4,24,2],[45,8,24,2,"useEffect"],[45,14,24,11],[45,15,24,11,"useEffect"],[45,24,24,11],[45,26,24,12],[45,32,24,18],[46,6,25,4,"loadToken"],[46,15,25,13],[46,16,25,14],[46,17,25,15],[47,4,26,2],[47,5,26,3],[47,7,26,5],[47,9,26,7],[47,10,26,8],[48,4,28,2],[48,10,28,8,"loadToken"],[48,19,28,17],[48,22,28,20],[48,28,28,20,"loadToken"],[48,29,28,20],[48,34,28,32],[49,6,29,4],[49,10,29,8],[50,8,30,6],[50,14,30,12,"storedToken"],[50,25,30,23],[50,28,30,26],[50,34,30,32,"AsyncStorage"],[50,46,30,44],[50,47,30,44,"default"],[50,54,30,44],[50,55,30,45,"getItem"],[50,62,30,52],[50,63,30,53],[50,70,30,60],[50,71,30,61],[51,8,31,6],[51,14,31,12,"storedUsername"],[51,28,31,26],[51,31,31,29],[51,37,31,35,"AsyncStorage"],[51,49,31,47],[51,50,31,47,"default"],[51,57,31,47],[51,58,31,48,"getItem"],[51,65,31,55],[51,66,31,56],[51,76,31,66],[51,77,31,67],[52,8,32,6],[52,12,32,10,"storedToken"],[52,23,32,21],[52,27,32,25,"storedUsername"],[52,41,32,39],[52,43,32,41],[53,10,33,8,"setToken"],[53,18,33,16],[53,19,33,17,"storedToken"],[53,30,33,28],[53,31,33,29],[54,10,34,8,"setUsername"],[54,21,34,19],[54,22,34,20,"storedUsername"],[54,36,34,34],[54,37,34,35],[55,8,35,6],[56,6,36,4],[56,7,36,5],[56,8,36,6],[56,15,36,13,"error"],[56,20,36,18],[56,22,36,20],[57,8,37,6,"console"],[57,15,37,13],[57,16,37,14,"error"],[57,21,37,19],[57,22,37,20],[57,44,37,42],[57,46,37,44,"error"],[57,51,37,49],[57,52,37,50],[58,6,38,4],[58,7,38,5],[58,16,38,14],[59,8,39,6,"setIsLoading"],[59,20,39,18],[59,21,39,19],[59,26,39,24],[59,27,39,25],[60,6,40,4],[61,4,41,2],[61,5,41,3],[62,4,43,2],[62,10,43,8,"login"],[62,15,43,13],[62,18,43,16],[62,24,43,16,"login"],[62,25,43,23,"username"],[62,33,43,39],[62,35,43,41,"password"],[62,43,43,57],[62,48,43,62],[63,6,44,4],[63,10,44,8],[64,8,45,6],[64,14,45,12,"response"],[64,22,45,20],[64,25,45,23],[64,31,45,29,"axios"],[64,36,45,34],[64,37,45,34,"default"],[64,44,45,34],[64,45,45,35,"post"],[64,49,45,39],[64,50,45,40],[64,53,45,43,"BACKEND_URL"],[64,64,45,54],[64,81,45,71],[64,83,45,73],[65,10,46,8,"username"],[65,18,46,16],[66,10,47,8,"password"],[67,8,48,6],[67,9,48,7],[67,10,48,8],[68,8,50,6],[68,14,50,12],[69,10,50,14,"token"],[69,15,50,19],[69,17,50,21,"newToken"],[69,25,50,29],[70,10,50,31,"username"],[70,18,50,39],[70,20,50,41,"returnedUsername"],[71,8,50,58],[71,9,50,59],[71,12,50,62,"response"],[71,20,50,70],[71,21,50,71,"data"],[71,25,50,75],[72,8,51,6],[72,14,51,12,"AsyncStorage"],[72,26,51,24],[72,27,51,24,"default"],[72,34,51,24],[72,35,51,25,"setItem"],[72,42,51,32],[72,43,51,33],[72,50,51,40],[72,52,51,42,"newToken"],[72,60,51,50],[72,61,51,51],[73,8,52,6],[73,14,52,12,"AsyncStorage"],[73,26,52,24],[73,27,52,24,"default"],[73,34,52,24],[73,35,52,25,"setItem"],[73,42,52,32],[73,43,52,33],[73,53,52,43],[73,55,52,45,"returnedUsername"],[73,71,52,61],[73,72,52,62],[74,8,53,6,"setToken"],[74,16,53,14],[74,17,53,15,"newToken"],[74,25,53,23],[74,26,53,24],[75,8,54,6,"setUsername"],[75,19,54,17],[75,20,54,18,"returnedUsername"],[75,36,54,34],[75,37,54,35],[76,6,55,4],[76,7,55,5],[76,8,55,6],[76,15,55,13,"error"],[76,20,55,23],[76,22,55,25],[77,8,56,6],[77,14,56,12],[77,18,56,16,"Error"],[77,23,56,21],[77,24,56,22,"error"],[77,29,56,27],[77,30,56,28,"response"],[77,38,56,36],[77,40,56,38,"data"],[77,44,56,42],[77,46,56,44,"detail"],[77,52,56,50],[77,56,56,54],[77,70,56,68],[77,71,56,69],[78,6,57,4],[79,4,58,2],[79,5,58,3],[80,4,60,2],[80,10,60,8,"register"],[80,18,60,16],[80,21,60,19],[80,27,60,19,"register"],[80,28,60,26,"username"],[80,36,60,42],[80,38,60,44,"password"],[80,46,60,60],[80,51,60,65],[81,6,61,4],[81,10,61,8],[82,8,62,6],[82,14,62,12,"response"],[82,22,62,20],[82,25,62,23],[82,31,62,29,"axios"],[82,36,62,34],[82,37,62,34,"default"],[82,44,62,34],[82,45,62,35,"post"],[82,49,62,39],[82,50,62,40],[82,53,62,43,"BACKEND_URL"],[82,64,62,54],[82,84,62,74],[82,86,62,76],[83,10,63,8,"username"],[83,18,63,16],[84,10,64,8,"password"],[85,8,65,6],[85,9,65,7],[85,10,65,8],[86,8,67,6],[86,14,67,12],[87,10,67,14,"token"],[87,15,67,19],[87,17,67,21,"newToken"],[87,25,67,29],[88,10,67,31,"username"],[88,18,67,39],[88,20,67,41,"returnedUsername"],[89,8,67,58],[89,9,67,59],[89,12,67,62,"response"],[89,20,67,70],[89,21,67,71,"data"],[89,25,67,75],[90,8,68,6],[90,14,68,12,"AsyncStorage"],[90,26,68,24],[90,27,68,24,"default"],[90,34,68,24],[90,35,68,25,"setItem"],[90,42,68,32],[90,43,68,33],[90,50,68,40],[90,52,68,42,"newToken"],[90,60,68,50],[90,61,68,51],[91,8,69,6],[91,14,69,12,"AsyncStorage"],[91,26,69,24],[91,27,69,24,"default"],[91,34,69,24],[91,35,69,25,"setItem"],[91,42,69,32],[91,43,69,33],[91,53,69,43],[91,55,69,45,"returnedUsername"],[91,71,69,61],[91,72,69,62],[92,8,70,6,"setToken"],[92,16,70,14],[92,17,70,15,"newToken"],[92,25,70,23],[92,26,70,24],[93,8,71,6,"setUsername"],[93,19,71,17],[93,20,71,18,"returnedUsername"],[93,36,71,34],[93,37,71,35],[94,6,72,4],[94,7,72,5],[94,8,72,6],[94,15,72,13,"error"],[94,20,72,23],[94,22,72,25],[95,8,73,6],[95,14,73,12],[95,18,73,16,"Error"],[95,23,73,21],[95,24,73,22,"error"],[95,29,73,27],[95,30,73,28,"response"],[95,38,73,36],[95,40,73,38,"data"],[95,44,73,42],[95,46,73,44,"detail"],[95,52,73,50],[95,56,73,54],[95,77,73,75],[95,78,73,76],[96,6,74,4],[97,4,75,2],[97,5,75,3],[98,4,77,2],[98,10,77,8,"logout"],[98,16,77,14],[98,19,77,17],[98,25,77,17,"logout"],[98,26,77,17],[98,31,77,29],[99,6,78,4],[99,12,78,10,"AsyncStorage"],[99,24,78,22],[99,25,78,22,"default"],[99,32,78,22],[99,33,78,23,"removeItem"],[99,43,78,33],[99,44,78,34],[99,51,78,41],[99,52,78,42],[100,6,79,4],[100,12,79,10,"AsyncStorage"],[100,24,79,22],[100,25,79,22,"default"],[100,32,79,22],[100,33,79,23,"removeItem"],[100,43,79,33],[100,44,79,34],[100,54,79,44],[100,55,79,45],[101,6,80,4,"setToken"],[101,14,80,12],[101,15,80,13],[101,19,80,17],[101,20,80,18],[102,6,81,4,"setUsername"],[102,17,81,15],[102,18,81,16],[102,22,81,20],[102,23,81,21],[103,4,82,2],[103,5,82,3],[104,4,84,2],[104,24,85,4],[104,28,85,4,"_reactJsxDevRuntime"],[104,47,85,4],[104,48,85,4,"jsxDEV"],[104,54,85,4],[104,56,85,5,"AuthContext"],[104,67,85,16],[104,68,85,17,"Provider"],[104,76,85,25],[105,6,85,26,"value"],[105,11,85,31],[105,13,85,33],[106,8,85,35,"token"],[106,13,85,40],[107,8,85,42,"username"],[107,16,85,50],[108,8,85,52,"isLoading"],[108,17,85,61],[109,8,85,63,"login"],[109,13,85,68],[110,8,85,70,"register"],[110,16,85,78],[111,8,85,80,"logout"],[112,6,85,87],[112,7,85,89],[113,6,85,89,"children"],[113,14,85,89],[113,16,86,7,"children"],[114,4,86,15],[115,6,86,15,"fileName"],[115,14,86,15],[115,16,86,15,"_jsxFileName"],[115,28,86,15],[116,6,86,15,"lineNumber"],[116,16,86,15],[117,6,86,15,"columnNumber"],[117,18,86,15],[118,4,86,15],[118,11,87,26],[118,12,87,27],[119,2,89,0],[119,3,89,1],[120,2,89,2,"_s"],[120,4,89,2],[120,5,19,13,"AuthProvider"],[120,17,19,66],[121,2,19,66,"_c"],[121,4,19,66],[121,7,19,13,"AuthProvider"],[121,19,19,66],[122,2,91,7],[122,8,91,13,"useAuth"],[122,15,91,20],[122,18,91,23,"useAuth"],[122,19,91,23],[122,24,91,29],[123,4,91,29,"_s2"],[123,7,91,29],[124,4,92,2],[124,10,92,8,"context"],[124,17,92,15],[124,20,92,18],[124,24,92,18,"useContext"],[124,30,92,28],[124,31,92,28,"useContext"],[124,41,92,28],[124,43,92,29,"AuthContext"],[124,54,92,40],[124,55,92,41],[125,4,93,2],[125,8,93,6,"context"],[125,15,93,13],[125,20,93,18,"undefined"],[125,29,93,27],[125,31,93,29],[126,6,94,4],[126,12,94,10],[126,16,94,14,"Error"],[126,21,94,19],[126,22,94,20],[126,67,94,65],[126,68,94,66],[127,4,95,2],[128,4,96,2],[128,11,96,9,"context"],[128,18,96,16],[129,2,97,0],[129,3,97,1],[130,2,97,2,"_s2"],[130,5,97,2],[130,6,91,13,"useAuth"],[130,13,91,20],[131,2,91,20],[131,6,91,20,"_c"],[131,8,91,20],[132,2,91,20,"$RefreshReg$"],[132,14,91,20],[132,15,91,20,"_c"],[132,17,91,20],[133,0,91,20],[133,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadToken","login","register","logout","useAuth"],"mappings":"AAA;qECkB;YCK;GDE;oBEE;GFa;gBGE;GHe;mBIE;GJe;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}